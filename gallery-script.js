let galleryContent  = {
  'Illustration':[
    {'src': "./assets/gallery/war-witch.jpg", 'alt': "war witch", 'description': "<a target='_blank' href='https://www.twitch.tv/dood_ly'>Doodly</a> - War Witch - <a href='https://www.youtube.com/watch?v=eOBUcQpzz8k' target='_blank'>Process video</a>"},
    {'src': "./assets/gallery/chilling-geralt.png", 'alt': "geralt having a good time", 'description': "<a target='_blank' href='https://www.twitch.tv/dood_ly'>Doodly</a> - Geralt having a good time"},
    {'src': "./assets/gallery/alien-skull.jpg", 'alt': "alien skull", 'description': "<a target='_blank' href='https://www.fiverr.com/silveriac'>Comission Work</a> - Alien Skull"},
    {'src': "./assets/gallery/planet-brain.jpg", 'alt': "planet brain", 'description': "Fotograf√≠a de <a href='https://www.instagram.com/antoniobauer31/'>Antonio Bauer</a>"},
    {'src': "./assets/gallery/poketrainer.jpg", 'alt': "pokemon trainer", 'description': "<a target='_blank' href='https://www.twitch.tv/dood_ly'>Doodly</a> - Me as a Pokemon Trainer - <a href='https://www.youtube.com/watch?v=NBWq45dFhrc'  target='_blank'>Process video</a>"},
    {'src': "./assets/gallery/joric-jolva.jpg", 'alt': "silveriac's jojo", 'description': "<a target='_blank' href='https://www.twitch.tv/dood_ly'>Doodly</a> - Me as a JoJo's Bizarre Adventure character - <a href='https://www.youtube.com/watch?v=len_06yFK8s' target='_blank'>Process video</a>"},
    {'src': "./assets/gallery/spiderverse.jpg", 'alt': "into the spider-verse fanart", 'description': "'Spider-Man: Into the Spider Verse' fan art"},
    {'src': "./assets/gallery/hypno-spooky.jpg", 'alt': "Spooky hypno", 'description': "<a target='_blank' href='https://www.twitch.tv/dood_ly'>Doodly</a> - Spooky pokemon: Hypno"},
    {'src': "./assets/gallery/all-skulls.png", 'alt': "emotion skulls", 'description': "<a target='_blank' href='https://www.fiverr.com/silveriac'>Comission Work</a>"},
    {'src': "./assets/gallery/revelation.png", 'alt': "revelation skull", 'description': "<a target='_blank' href='https://www.fiverr.com/silveriac'>Comission Work</a>"},
    {'src': "./assets/gallery/creepy-cat.jpg", 'alt': "monster cat", 'description': "<a target='_blank' href='https://www.fiverr.com/silveriac'>Comission Work</a>"},
    {'src': "./assets/gallery/blue.jpg", 'alt': "blue", 'description': "A gift for a friend"},
    {'src': "./assets/gallery/creepydoll.jpg", 'alt': "creepy doll", 'description': "<a target='_blank' href='https://www.fiverr.com/silveriac'>Comission Work</a>"},
    {'src': "./assets/gallery/cursed-randall.jpg", 'alt': "cursed randall", 'description': "<a target='_blank' href='https://www.twitch.tv/dood_ly'>Doodly</a> - Creepy Randall from Monsters Inc"},
    {'src': "./assets/gallery/eldritch-momo.png", 'alt': "eldritch momo", 'description': "<a target='_blank' href='https://www.twitch.tv/dood_ly'>Doodly</a> - An eldritch version of Momo from Avatar: The last airbender"},
    {'src': "./assets/gallery/spike.jpg", 'alt': "spike", 'description': "A digitally painted entry from Inktober 2017"},
    {'src': "./assets/gallery/gangster-skull.jpg", 'alt': "gagnster skull", 'description': "Gangster skull, a digitally painted sketch from a small notebook"},
    {'src': "./assets/gallery/gitana.jpg", 'alt': "gitana", 'description': "<a target='_blank' href='https://www.twitch.tv/dood_ly'>Doodly</a> - Gitana"},
    {'src': "./assets/gallery/hama.jpg", 'alt': "hama", 'description': "<a target='_blank' href='https://www.twitch.tv/dood_ly'>Doodly</a> - Hama from Avatar: The last airbender"},
    {'src': "./assets/gallery/herosona.jpg", 'alt': "me as a my hero academia character", 'description': "<a target='_blank' href='https://www.twitch.tv/dood_ly'>Doodly</a> - Me as a 'My Hero Academia' character"},
    {'src': "./assets/gallery/me-blu.jpg", 'alt': "me with blue background", 'description': "-"},
    {'src': "./assets/gallery/me.jpg", 'alt': "silveriac self portrait", 'description': "My self portait"},
    {'src': "./assets/gallery/me-red.jpg", 'alt': "me with red background", 'description': "-"},

    {'src': "./assets/gallery/skullwolf.jpg", 'alt': "skull wolf", 'description': "-"},
    {'src': "./assets/gallery/wolfskull.jpg", 'alt': "wolfskull", 'description': "-"},
    {'src': "./assets/gallery/wolf.jpg", 'alt': "wolf", 'description': "-"},
    {'src': "./assets/gallery/venom-rework-black.jpg", 'alt': "venom fanart", 'description': "Venom fanart, rework of my first digital drawing"},
    {'src': "./assets/gallery/venom-rework-blue.jpg", 'alt': "venom fanart", 'description': "Venom fanart, rework of my first digital drawing"},
    {'src': "./assets/gallery/vincent-van-hop.jpg", 'alt': "vincent van hop", 'description': "<a target='_blank' href='https://www.twitch.tv/dood_ly'>Doodly</a> - Our favourite artists as 'furries'"},
    {'src': "./assets/gallery/snowman-imaginaerum.jpg", 'alt': "imaginaerum snowman", 'description': "<a target='_blank' href='https://www.twitch.tv/dood_ly'>Doodly</a> - the Snowman from the movie 'Imaginaerum'"},
    {'src': "./assets/gallery/steampunk-bunnygirl.jpg", 'alt': "steampunk bunnygirl", 'description': "<a target='_blank' href='https://www.fiverr.com/silveriac'>Comission Work</a>"},
    {'src': "./assets/gallery/steampunk-bunnygirl-revised.jpg", 'alt': "steampunk bunnygirl", 'description': "<a target='_blank' href='https://www.fiverr.com/silveriac'>Comission Work</a>"}
    //{'src': "./assets/gallery/", 'alt': "", 'description': "<a target='_blank' href='https://www.twitch.tv/dood_ly'>Doodly</a> "}
  ],
  'Animation': [
    {'src': "./assets/gallery/gif/monke.gif", 'alt': "dancing monkey", 'description': "<a target='_blank' href='https://www.twitch.tv/dood_ly'>Doodly</a> - Rework of my first animation"},
    {'src': "./assets/gallery/gif/bear-idle.gif", 'alt': "idle bear", 'description': "<a target='_blank' href='https://www.fiverr.com/silveriac/make-a-short-character-animation'>Comission Work</a> - The heart of the Teddy Bear"},
    {'src': "./assets/gallery/gif/bear-run.gif", 'alt': "bear running", 'description': "<a target='_blank' href='https://www.fiverr.com/silveriac/make-a-short-character-animation'>Comission Work</a> - The heart of the Teddy Bear"},
    {'src': "./assets/gallery/gif/bear-jump.gif", 'alt': "bear jumping", 'description': "<a target='_blank' href='https://www.fiverr.com/silveriac/make-a-short-character-animation'>Comission Work</a> - The heart of the Teddy Bear"},
    {'src': "./assets/gallery/gif/bear-push-small.gif", 'alt': "bear pushing small snowball", 'description': "<a target='_blank' href='https://www.fiverr.com/silveriac/make-a-short-character-animation'>Comission Work</a> - The heart of the Teddy Bear"},
    {'src': "./assets/gallery/gif/bear-push-big.gif", 'alt': "bear pushing big snowball", 'description': "<a target='_blank' href='https://www.fiverr.com/silveriac/make-a-short-character-animation'>Comission Work</a> - The heart of the Teddy Bear"},
    {'src': "./assets/gallery/gif/mounted-run.gif", 'alt': "bear mounted on dog running", 'description': "<a target='_blank' href='https://www.fiverr.com/silveriac/make-a-short-character-animation'>Comission Work</a> - The heart of the Teddy Bear"},
    {'src': "./assets/gallery/gif/dog-mounted-jump.gif", 'alt': "bear mounted on dog jumping", 'description': "<a target='_blank' href='https://www.fiverr.com/silveriac/make-a-short-character-animation'>Comission Work</a> - The heart of the Teddy Bear"},
    //{'src': "./assets/gallery/gif/mount-pant.gif", 'alt': "bear pushing big snowball"},
    {'src': "./assets/gallery/gif/pant-mounted.gif", 'alt': "bear mounted on dog panting", 'description': "<a target='_blank' href='https://www.fiverr.com/silveriac/make-a-short-character-animation'>Comission Work</a> - The heart of the Teddy Bear"},
    {'src': "./assets/gallery/gif/dog-getup-pant.gif", 'alt': "dog panting", 'description': "<a target='_blank' href='https://www.fiverr.com/silveriac/make-a-short-character-animation'>Comission Work</a> - The heart of the Teddy Bear"},
    {'src': "./assets/gallery/gif/idle-oso.gif", 'alt': "idle bear", 'description': "<a target='_blank' href='https://v3.globalgamejam.org/2020/games/cotton-revenge-2'>Global Game Jam 2020</a>"},
    {'src': "./assets/gallery/gif/idle-arma-oso.gif", 'alt': "idle bear with gun", 'description': "<a target='_blank' href='https://v3.globalgamejam.org/2020/games/cotton-revenge-2'>Global Game Jam 2020</a>"},
    {'src': "./assets/gallery/gif/caminata-oso.gif", 'alt': "bear walking", 'description': "<a target='_blank' href='https://v3.globalgamejam.org/2020/games/cotton-revenge-2'>Global Game Jam 2020</a>"},
    {'src': "./assets/gallery/gif/caminata-con-arma-oso.gif", 'alt': "idle walking with gun", 'description': "<a target='_blank' href='https://v3.globalgamejam.org/2020/games/cotton-revenge-2'>Global Game Jam 2020</a>"},
    {'src': "./assets/gallery/gif/disparos-oso.gif", 'alt': "bear shooting", 'description': "<a target='_blank' href='https://v3.globalgamejam.org/2020/games/cotton-revenge-2'>Global Game Jam 2020</a>"},
    {'src': "./assets/gallery/gif/salto-oso.gif", 'alt': "bear jumping", 'description': "<a target='_blank' href='https://v3.globalgamejam.org/2020/games/cotton-revenge-2'>Global Game Jam 2020</a>"},
    {'src': "./assets/gallery/gif/salto-con-arma-oso.gif", 'alt': "bear jumping with gun", 'description': "<a target='_blank' href='https://v3.globalgamejam.org/2020/games/cotton-revenge-2'>Global Game Jam 2020</a>"},
  ],
  'Design': [
    {'src': "./assets/gallery/design/sonder-imagotipo-fondo-gris.png", 'alt': "sonder", 'description': "<a target='_blank' href='https://www.instagram.com/sonder_producciones/'>Sonder</a> - Logo and visual identity rework"},
    {'src': "./assets/gallery/design/sonder-isologo-fondo-gris.png", 'alt': "sonder", 'description': "<a target='_blank' href='https://www.instagram.com/sonder_producciones/'>Sonder</a> - Logo and visual identity rework"},
    {'src': "./assets/gallery/design/sonder-isotipo1.png", 'alt': "sonder", 'description': "<a target='_blank' href='https://www.instagram.com/sonder_producciones/'>Sonder</a> - Logo and visual identity rework - color variation"},
    {'src': "./assets/gallery/design/sonder-logo.png", 'alt': "sonder", 'description': "<a target='_blank' href='https://www.instagram.com/sonder_producciones/'>Sonder</a> - Logo and visual identity rework - color variation"},
    {'src': "./assets/gallery/design/sonder-brillo-1.jpg", 'alt': "sonder", 'description': "<a target='_blank' href='https://www.instagram.com/sonder_producciones/'>Sonder</a> - Logo and visual identity rework - color variation"},
    {'src': "./assets/gallery/design/sonder-brillo-2.jpg", 'alt': "sonder", 'description': "<a target='_blank' href='https://www.instagram.com/sonder_producciones/'>Sonder</a> - Logo and visual identity rework - color variation"},
    {'src': "./assets/gallery/design/sonder-imagotipo-fondo-marron.png", 'alt': "sonder", 'description': "<a target='_blank' href='https://www.instagram.com/sonder_producciones/'>Sonder</a> - Logo and visual identity rework - color variation"},
    {'src': "./assets/gallery/design/sonder-imagotipo-2.jpg", 'alt': "sonder", 'description': "<a target='_blank' href='https://www.instagram.com/sonder_producciones/'>Sonder</a> - New logo from scratch, client opted to keep the rework version"},
    {'src': "./assets/gallery/design/Sonder-iso.jpg", 'alt': "sonder", 'description': "<a target='_blank' href='https://www.instagram.com/sonder_producciones/'>Sonder</a> - New logo from scratch, client opted to keep the rework version"},
    {'src': "./assets/gallery/design/Sonder-imagotipo.jpg", 'alt': "sonder", 'description': "<a target='_blank' href='https://www.instagram.com/sonder_producciones/'>Sonder</a> - New logo from scratch, client opted to keep the rework version"},
    {'src': "./assets/gallery/design/sonder-logo-final-transparente.png", 'alt': "sonder", 'description': "<a target='_blank' href='https://www.instagram.com/sonder_producciones/'>Sonder</a> - New logo from scratch, client opted to keep the rework version"},
    {'src': "./assets/gallery/design/sonder-card-1.jpg", 'alt': "sonder", 'description': "<a target='_blank' href='https://www.instagram.com/sonder_producciones/'>Sonder</a> - Sonder contact cards"},
    {'src': "./assets/gallery/design/sonder-card-2.jpg", 'alt': "sonder", 'description': "<a target='_blank' href='https://www.instagram.com/sonder_producciones/'>Sonder</a> - Sonder contact cards"},
    {'src': "./assets/gallery/design/sonder-logo-anterior.jpeg", 'alt': "sonder", 'description': "<a target='_blank' href='https://www.instagram.com/sonder_producciones/'>Sonder</a> - Previous design"},
    {'src': "./assets/gallery/design/sonder-inicial.jpg", 'alt': "sonder", 'description': "<a target='_blank' href='https://www.instagram.com/sonder_producciones/'>Sonder</a> - My notes on previous design"},
    {'src': "./assets/gallery/design/360tours-1.jpg", 'alt': "360tours", 'description': "<a target='_blank' href='https://www.instagram.com/360tours.uy/'>360tours</a> - Contact cards using established visual identity"},
    {'src': "./assets/gallery/design/360tours-2.jpg", 'alt': "360tours", 'description': "<a target='_blank' href='https://www.instagram.com/360tours.uy/'>360tours</a> - Contact cards using established visual identity"},
    {'src': "./assets/gallery/design/sippin2.jpg", 'alt': "sippin with spirits", 'description': "Sippin' with spirits, drinks reviews and ghost stories podcast - Card and mascot variation 1"},
    {'src': "./assets/gallery/design/sippin1.png", 'alt': "sippin with spirits", 'description': "Sippin' with spirits, drinks reviews and ghost stories podcast - Card and mascot variation 2"},
    {'src': "./assets/gallery/design/sippin3.jpg", 'alt': "sippin with spirits", 'description': "Sippin' with spirits, drinks reviews and ghost stories podcast - Card and mascot variation 3"},
    {'src': "./assets/gallery/design/sippin4.jpg", 'alt': "sippin with spirits", 'description': "Sippin' with spirits, drinks reviews and ghost stories podcast - Card and mascot variation 4"},
    {'src': "./assets/gallery/design/sippin-mascot-beer.png", 'alt': "sippin with spirits", 'description': "Sippin' with spirits, drinks and ghost stories podcast - Mascot variation 1"},
    {'src': "./assets/gallery/design/sippin-mascot-whiskey.png", 'alt': "sippin with spirits", 'description': "Sippin' with spirits, drinks and ghost stories podcast - Mascot variation 2"},
    {'src': "./assets/gallery/design/sippin-mascot-wine.png", 'alt': "sippin with spirits", 'description': "Sippin' with spirits, drinks and ghost stories podcast - Mascot variation 3"},
    {'src': "./assets/gallery/design/sippin-examples.jpg", 'alt': "sippin with spirits", 'description': "Sippin' with spirits, drinks and ghost stories podcast - Process and options"},
    {'src': "./assets/gallery/design/sippin-mascot-examples.jpg", 'alt': "sippin with spirits", 'description': "Sippin' with spirits, drinks and ghost stories podcast - Process and options for the ghost mascot"},
    {'src': "./assets/gallery/design/varo1.jpg", 'alt': "varo percu", 'description': "<a target='_blank' href='https://www.instagram.com/varopercu/'>Varo Percu</a> - Percussion with recycled materials"},
    {'src': "./assets/gallery/design/varo2.jpg", 'alt': "varo percu", 'description': "<a target='_blank' href='https://www.instagram.com/varopercu/'>Varo Percu</a> - Percussion artist"},
    {'src': "./assets/gallery/design/varo3.jpg", 'alt': "varo percu", 'description': "<a target='_blank' href='https://www.instagram.com/varopercu/'>Varo Percu</a> - Percussion artist"},
    {'src': "./assets/gallery/design/gm-fitness.jpg", 'alt': "mg fitness", 'description': "MG fitness - Personal Trainer"},
    {'src': "./assets/gallery/design/gm-fitness2.jpg", 'alt': "mg fitness", 'description': "MG fitness - Personal Trainer"}
  ],
  'Doodly': [
    {'src': "./assets/gallery/gif/lu.gif", 'alt': "lu doodly", 'description': "<a target='_blank' href='https://www.instagram.com/yolumith/'>Lu</a>"},
    {'src': "./assets/gallery/gif/flo.gif", 'alt': "flo doodly", 'description': "<a target='_blank' href='https://www.instagram.com/floobi3/'>Flo</a>"},
    {'src': "./assets/gallery/gif/eric.gif", 'alt': "eric doodly", 'description': "<a target='_blank' href='https://www.instagram.com/silveriac_/'>Eric</a>"}
  
  ]
  };

let imgArray = galleryContent.Illustration;
let currentTab = 'Illustration';
let modal;
window.onload = function () {
  modal = document.getElementsByClassName("modal")[0];
  imageDiv = document.getElementsByClassName("show-img");
    console.log(imgArray);
    const buttons = document.getElementsByClassName("tabs");
    buttons[0].addEventListener("click", (event) => galleryTabs(event, 'Illustration'));
    buttons[1].addEventListener("click", (event) => galleryTabs(event, 'Animation'));
    buttons[2].addEventListener("click", (event) => galleryTabs(event, 'Design'));
    buttons[3].addEventListener("click", (event) => galleryTabs(event, 'Doodly'));
    fillTab(currentTab);
    new Twitch.Player("twitch-embed", {
      channel: "dood_ly"
    });
};

const fillTab = (tab) => {
  contentArray = galleryContent[tab];
  console.log(tab);
  const container = document.getElementById(tab);
  if (container.childElementCount != 0) return;
  contentArray.forEach((image, index) => {
    const div = document.createElement("div");
    div.classList.add("gallery-img");
    div.setAttribute("style", `animation-delay: ${(index*2)/10}s`);
    if (tab == "Animation" || tab == "Doodly") div.innerHTML += `<img class="frame1" src="${(image.src).replace('gif/','gif/frame1/').replace(/-/g, '_')}" alt="${image.alt}">` //add still frame1 to gifs
    div.innerHTML += `<img src="${image.src}" alt="${image.alt}" loading="lazy">`;
    setTimeout(() =>{container.appendChild(div);}, 250);
    div.addEventListener("click", () => modalSlider(1, index));
  })
}

/* const expandBackground = (action) => { //animate doodly tab
  const doodlyBG = document.getElementById("doodlyBG");
  switch(action){
    case 1:
      let i = 0;
      const animate = setInterval(() => {
        i++;
        doodlyBG.style.width = `${i * 16}px`;
        doodlyBG.style.height = `${i * 9}px`;
        console.log(i == 100);
        if(i > 50){doodlyBG.style.borderRadius = `${100 - i}%`}
        if(i == 100){clearInterval(animate)}
      }, 1);
      animate();
      break;
    case 2:
      i = 100;
      const deanimate = setInterval(() => {
        i++;
        doodlyBG.style.width = `${100 - i * 16}px`;
        doodlyBG.style.height = `${100 - i * 9}px`;
        console.log(i == 100);
        if(i > 50){doodlyBG.style.borderRadius = `${i - 50}%`}
        if(i == 100){clearInterval(deanimate)}
      }, 1);
      deanimate();
  };
};*/

//const modal = document.getElementsByClassName("modal");
console.log(modal);
let slide = document.getElementsByClassName("slide");
let imageDiv;
let currentSlide;

const galleryTabs = (evt, tabName) => {
  var i, tabcontent, tablinks;
  /*if(tabName == 'Doodly'){
    expandBackground(1);
  }else{
    expandBackground(2);
  };*/
  tabcontent = document.getElementsByClassName("tabcontent");
  tablinks = document.getElementsByClassName("tabs");
  for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  };
  for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace("active", "");
    tablinks[i].classList.add("correct");
  };
  document.getElementById(tabName).style.display = "flex";
  evt.currentTarget.className += " active";
  currentTab = tabName;
  fillTab(currentTab);
};

document.onkeydown = function(evt) {
  evt = evt || window.event;
  let isEscape = false;
  let isLeft = false;
  let isRight = false;
  if ("key" in evt){
    isEscape = (evt.key === "Escape" || evt.key === "Esc");
  }
  else {
    isEscape = (evt.keyCode === 27);
  }
  if ("key in evt"){
    isLeft = (evt.key === "ArrowLeft");
  }
  else {
    isLeft = (evt.keyCode === 37)
  }
  if ("key in evt"){
    isRight = (evt.key === "ArrowRight");
  }
  else {
    isRight = (evt.keyCode === 39)
  }
  if (isEscape){
    modalSlider(0);
  }
  else if (isLeft){
    modalSlider(2);
  }
  else if (isRight){
    modalSlider(3);
  }
};

const modalSlider = (action, number) => {
  if (typeof number == 'number'){
    currentSlide = number;
  };
  let description = document.getElementById("description");
  console.log(description);
  let imgArray = galleryContent[currentTab]
  switch(action){
    case 1: //open
      modal.classList.toggle("switch");
      imageDiv[0].childNodes[3].setAttribute("src", imgArray[number].src);
      description.innerHTML = imgArray[number].description;
      break;
    case 0: //close
      modal.classList.toggle("switch");
      break;
    case 2: //left
      currentSlide != 0 ? currentSlide = currentSlide - 1 : currentSlide = imgArray.length - 1;
      imageDiv[0].childNodes[3].setAttribute("src", imgArray[currentSlide].src);
      description.innerHTML = imgArray[currentSlide].description;
      break;
    case 3: //right
      currentSlide != (imgArray.length - 1) ? currentSlide = currentSlide + 1 : currentSlide = 0;
      imageDiv[0].childNodes[3].setAttribute("src", imgArray[currentSlide].src);
      description.innerHTML = imgArray[currentSlide].description;
      break;
    default:
      console.log("Modal error");
      modal.classList.toggle("switch");
  };
};



/*
let allCards = [
  {
   'id': "1",
   'nombre': "Hacer ejercicio",
   'tipo': 'accion',
   'efecto': (jugador) => {
      jugador.salud += 2;
   }
  },
  {
    'id': "15",
    'nombre': "Consumismo",
    'tipo': 'accion',
    'efecto': (jugador) => {
      jugador.mercado.forEach( () => {draw(jugador)})
   }
  }
]
*/
